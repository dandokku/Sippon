<!DOCTYPE html>
<html>
<head>
    <title>Steam API Example with jQuery</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <script>
        const API_KEY = "YOUR_STEAM_API_KEY";

        function getGameDetails(appId) {
            const url = `http://store.steampowered.com/api/appdetails?appids=${appId}`;
            return $.ajax({
                url: url,
                dataType: "json"
            });
        }

        function fetchGamesList() {
            const url = "http://api.steampowered.com/ISteamApps/GetAppList/v2/";
            return $.ajax({
                url: url,
                dataType: "json"
            });
        }

        function displayGameData() {
            fetchGamesList().done(function(response) {
                const gamesList = response.applist.apps;

                gamesList.forEach(function(game) {
                    const appId = game.appid;
                    getGameDetails(appId).done(function(detailsResponse) {
                        if (detailsResponse[appId].success) {
                            const gameData = detailsResponse[appId].data;
                            const name = gameData.name;
                            const images = gameData.screenshots;

                            console.log(`Game Name: ${name}`);
                            console.log("Images:");
                            images.forEach(function(image) {
                                console.log(image.path_full);
                            });
                        } else {
                            console.log(`Failed to get details for app ID: ${appId}`);
                        }
                    }).fail(function() {
                        console.log(`Failed to retrieve details for app ID: ${appId}`);
                    });
                });
            }).fail(function() {
                console.log("Failed to retrieve the app list.");
            });
        }

        // Call the function to display game data
        displayGameData();
    </script>
</body>
</html>
